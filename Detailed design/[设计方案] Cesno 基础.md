写在前面
================

这里是Ozelot。一个正在学习编程，希望和各位大佬一起交流学习的大学生。这是我们设计团队关于编程语言Cesno的教程风格的**设计方案**，欢迎大家评论交流!

提示: 最终设计尚未决定，可能还有很多设计上的不足需要优化，故内容可能会发生变动。因为没法不加标签，我不得不打了“程序员”标签。希望没有给大家造成困扰。

注意: 因为Cesno并未制作完成，这里只记录Cesno的语法规范。正因如此，代码部分的高亮可能不能保证每一次都正确显示。如果影响了阅读，我感到十分抱歉!

----

# 前置知识

> 很高兴你能看到这段话。这里将要书写有关于Cesno各部分学习的前置知识，这些知识将帮助你更好地理解之后的内容。前置知识中的**粗体字词语**代表接下来需要用到的一些*专有名词*。俗话说==“磨刀不误砍柴工”==，希望你能耐心地看完它们，让自己的Cesno学习过程变得更加容易吧。
>
> 来自Cesno团队的温馨提示

> 我想要好好地设计Cesno，让它从最基础的部分开始就清晰、严谨、有创造性。我并不认为应该把“制作并推广Cesno”放到“设计Cesno”之前去实现。
>
> 来自一个Cesno语法设计成员

## 编程相关的一些知识和概念

**编程语言**是一种用于记述指令和操作的语言系统。通常说**编程**指的是: 用编程语言书写的一段 *可以告知计算机该做什么事情* 的文字(即“**代码**”)。

编程语言类似于人类使用的语言，但它有较为固定的书写方式，不像人类的语言那样富有变化(因此产生的理解歧义极少)。大多数编程语言，都具有如下的特点:

1. 多数编程语言**自上而下地**执行代码，但这不等于代码只能自上而下运行

2. 很多编程语言严格区分**字符的大小写**及**符号的全半角**

   很多中文使用者在第一次编程时都会陷到[全半角](https://zh.wikipedia.org/wiki/%E5%85%A8%E5%BD%A2%E5%92%8C%E5%8D%8A%E5%BD%A2)的坑里去。他们可能会弄混中文逗号`，`(全角)和英文逗号`,`(半角): 这两个逗号看起来差不多，但对电脑来说是两个东西。既然电脑这么努力地区分全角半角，更不难理解代码内出现的各种**名称**(目前可以认为是代码内的各种“单词”和“标点符号”)也要严格区分大小写。

3. 多数编程语言需要用户按照官方给出的步骤进行**安装配置**，才可以正常使用

   但别担心，很多编程语言从安装，到可以开始编写的配置流程非常贴心、省力，比如Python的安装既简单又便利。

这么多特征看下来，你可能会感到编程是严格的，甚至又有些过于死板的——看起来任何行动都要遵循一套固定的规范来。对于这个问题，我应该说: 是，但又不完全是。固定的规范有时是为了帮助新手快速入门，有时是为了帮助消除歧义……但<u>永远不是，或不应该是为了限制你的行动而出现的</u>。代码虽然看起来需要严格遵守一套书写规范，事实上程序员仍然拥有很大的编写自由。相同的功能交给不一样的人，可能会写出风格或具体实现完全不一样的代码。

你可能会觉得学编程难。其实，学习编程困难的部分往往不在于*对编程语言本身的学习*，而是在于*拥有清晰的逻辑*。编程语言终究是*记录的表述方式*，是*行动的实现手段*，并不是*把人难倒的一堆字母、符号和数字的组合*。掌握了一个编程语言的*设计思路*，*而不是代码本身*，能帮助你更好提升编程水平。

## 为什么是Cesno

> 这一部分可能不适合刚刚入门的人阅读，因为这一部分==包含过多过早出现的行话或术语==。
>
> 如果刚刚接触编程语言，建议先跳过这一部分，直接看下一部分“**从结构入手**”。否则您可能会迷失在查询各种==需要大量前置知识==的专有名词中。

最初设计Cesno是为了**解决C++中过于难用的指针、过于混乱的语法**和**Java中程序员编程不够自由**的问题(如必须为程序创建公共类和公共方法、数组不能继承、操作符不能重载、没有宏定义等等)。Cesno想在之中找到一个更好地解决方案。如今，Cesno制作者们(其中很多人学习了更加现代的编程语言，如TypeScript、Rust等)愿意将别的语言的优势融合进Cesno，一方面可以吸收众人之所长，另一方面可以让其它语言的学习者更快适应Cesno。

很多语言被分成了静态类型或动态类型“两大派”。与之不同的是，Cesno**支持动态类型**，但**底层实现基于静态类型**。这意味着程序员 *可以采用两种类型* 来编写程序，而不受程序语言 *本身是否采用静态还是动态类型* 的影响。但相应的，动态类型的变量会失去一部分编写时的提示或类型检查。Cesno是**强类型**的，并且 *几乎不包含* 隐式类型转换——因为这可能成为错误的源头(比如在Cesno中，`false == 0`会报错，因为`bool`型尝试和其它不属于`bool`型的数据进行比较)。

Cesno是**面向对象**的编程语言，但Cesno也支持面向过程写法或是函数式编程。Cesno的面向对象模型不仅包括了字段、方法，还包含了**属性**。属性是一个随着对象变化而动态改变的量，比如一个列表的长度，就是属性。

安装Cesno可以选择安装Cesno的IDE。Cesno IDE可以**一定程度上解决因用户代码风格不一产生的冲突**。Cesno IDE采用“源码”来存储用户代码，而使用用户自定义的配置来显示用户的代码。用户可以自己在IDE中进行风格的配置，包括 *文字何时折行*、*大括号何时换行*、*是否在名称不冲突时仍添加self*、*是否对齐赋值时的等号* 等等。Cesno还支持更多的编写风格自定义，比如 *是否在字符串加法中显示/隐藏`string()`或者`str()`*、*是否以类似其他语言的形式显示代码*、*是否为非`bool`条件的if加上隐式判空* 等等。

## 从结构入手

任何编程语言都存在着一定的**语法结构**。通过学习这样的结构，可以帮助你更好地阅读和书写代码。

**语言部件**(language gadget，简称为langadge)是组成Cesno代码的单位。语言部件没有固定的长度，也可以包含比它单位更小的语言部件——小至单个字符，大至一个函数定义甚至整段代码，它们都可以是语言部件。



基本语法结构
================

这一部分包含了Cesno的基本语法结构。它被设计成让开发者更好理解Cesno，并快速进行语法的掌握。


语句
----------------

一个Cesno语句由**语句体**和一个附在结尾的分号组成。像这样:

```c++
int a = 10;
```

在这句话中，`int a = 10`是语句体，后面跟上了一个分号`;`来标记这个语句的结束。这句话是Cesno的**变量声明**。其中，语句体中的内容代表了“声明`a`为整数形变量，并接收了`10`作为初始值”。关于“声明”的更多内容将会出现在“Cesno 变量”。

Cesno通过分号，而不是换行来结束一个语句。所以，编程人员可以适当地加入空行，使得代码更具有可读性。比如，这样书写:

```typescript
var x = 1 + 2 + 3;
```

和这句效果一样:

```typescript
var x = 1 + 2
          + 3;
```

它们和 *在其它空白处插入换行或空格* 的版本效果也一样。换行、空格或是缩进等可以被Cesno视作空格。**不应当**在一个词、数字、超过一个字的操作符或是其他不包含空格的**语言部件**中换行，尽管这听起来可能显而易见。

在Cesno中，<u>任何语句体</u>都可以被**当作一个值**，这种现象称为**评价**(evaluation，简称为eval)，取得的值也自然称为**评价值**(evaluated value,简称为evalvalue)。举出一个上面出现过的语句的例子。不要求你现在就看懂这句话的意思，我们将在[下一章](./Cesno 变量)讨论更多细节。

```c++
int a = 10;            // 分号前的是一个 语句体，它的评价值是 等号右侧的部分
// 所以，你可以这样写
int c = int b = 10;    // 现在，b 和 c 都等于 10
```



定义
----------------

一个Cesno定义由**定义起始关键字**(这些特殊的关键字通常简称为**定义字**)及之后的**定义体**组成。通常，定义不需要通过分号来表示结束。

如下是一个**函数**的定义(现在 *并不需要理解* **函数**具体是什么，只需要理解函数定义由`function`关键字开始即可):

```ts
function void greetings(string name)
{
    print("Hello", name);
}
```

它由标示着函数定义起始的关键字`function`，函数的返回值`void`，函数名`greetings`，函数参数列表`(string name)`以及函数体`{ print("Hello", name); }`组成。其中，除了`function`是定义字以外，其余的均为定义体。

这是一个类的定义(同样地，现在 *也并不需要理解* **类**具体是什么，只需要理解函数定义由`function`关键字开始即可):

```c++
class Test
{
    public int member;
}
```

它接收一个类名`Test`，一个类的体。`class`是定义字，其后都是定义体。

Cesno被设计成对用户友好的: 它允许用户**自定义**属于自己的声明。值得注意的是，因为**定义字**同样是**类型**，为防止和**声明**产生混淆，Cesno的定义不建议采用等号。继续学习，之后的章节会让你知道如何具体地使用他们，还会告诉你如何自定义这些功能。

基本代码结构
================

Cesno是**面向对象**的，但不像Java需要为每一份代码创造一个公共类(现在也无需理解面向对象、公共类这些词语的含义)。如下是Cesno可以识别的几种代码结构。

通常结构
----------------

```c++
void main()
{
    print("Hello world!");
}
```

这是一个依照通常结构书写的标准Cesno程序，它将会输出"Hello world!"。这里将不会讨论太多关于主函数的返回值类型的事情。大部分时候，主函数返回类型设成`void`即可。当然，Cesno也<u>不靠返回值类型识别主函数</u>。

简单结构
----------------

如果目前无法理解上面的函数是什么意思，也没有关系——因为你可以采用这种更为简单的方式书写。简单结构不需要用户写出主函数体。一个最简单的Cesno程序可能看起来像这样:

```python
print("Hello world!");
```

如果不需要复杂的代码结构时，用户可以将Cesno代码当作Python或是其他脚本语言一样编写。编译时，用户的这些代码将会被转换成通常结构。